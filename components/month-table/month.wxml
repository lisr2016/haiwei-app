<wxs module="filter" src="../../utils/util.wxs" />
<view class="month-table">
  <view>
    <van-field class="not-padding" label="填报日期" value="{{ filter.formatTime(form.time, false) }}" placeholder="请选择填报日期" readonly clickable is-link border="{{ false }}" bindtap="showDate" />

    <view class="title">{{ filter.getMonth(form.time) }}月垃圾收集情况</view>
    <view class="card">
      <van-field label="厨余垃圾:" bind:blur="input" data-name="kitchenWaste" type="number" value="{{ form.kitchenWaste }}" placeholder="请输入厨余垃圾公斤数" border="{{ false }}" />
      <van-field label="可回收物:" bind:blur="input" data-name="recyclableWaste" type="number" value="{{ form.recyclableWaste }}" placeholder="请输入可回收物公斤数" border="{{ false }}" />
      <van-field label="有害垃圾:" bind:blur="input" data-name="harmfulWaste" type="number" value="{{ form.harmfulWaste }}" placeholder="请输入有害垃圾公斤数" border="{{ false }}" />
      <van-field label="其他垃圾:" bind:blur="input" data-name="otherWaste" type="number" value="{{ form.otherWaste }}" placeholder="请输入其他垃圾公斤数" border="{{ false }}" />
      <van-field label="大件废物:" bind:blur="input" data-name="bulkyWaste" type="number" value="{{ form.bulkyWaste }}" placeholder="请输入大件废物公斤数" border="{{ false }}" />
    </view>
  </view>

  <van-popup show="{{ show }}" position="bottom" custom-style="height: 50%" bind:close="dateClose">
    <van-datetime-picker type="year-month" min-date="{{ minDate }}" value="{{ form.time }}" title="请选择填报日期" bind:confirm="dateConfirm" bind:cancel="dateClose" />
  </van-popup>

  <view class="footer">
    <van-button class="btn" type="info" block bindtap="submit">提交</van-button>
  </view>
  <van-toast id="van-toast" />
</view>
